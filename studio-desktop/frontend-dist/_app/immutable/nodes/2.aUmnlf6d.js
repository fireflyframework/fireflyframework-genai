import"../chunks/DsnmJJEf.js";import{c as ue,f as ge,a as d,K as Ee,p as qe,C as Q,L as T,y as t,b as Be,I as r,F as i,D as k,M as re,N as W,G as s,O as oe,P as Fe,Q as V,J as C}from"../chunks/BNectIeB.js";import{l as me,s as he,i as I,a as Ke,b as Oe}from"../chunks/BB2KRr3j.js";import{I as fe,s as _e,P as L,e as le,b as Re,a as Ge,c as Ue,d as M,f as ce,D as E,B as X,g as Y,p as He,L as Je,l as Qe,h as We}from"../chunks/K2hNZgUo.js";import{g as q}from"../chunks/DaZstLas.js";import{c as ve}from"../chunks/CKy8R5Mg.js";import"../chunks/FsCUQR17.js";import{S as Z,a as Ve}from"../chunks/CCyXRANn.js";import{A as de}from"../chunks/N_rdQ7t6.js";function pe(h,c){const f=me(c,["children","$$slots","$$events","$$legacy"]);const _=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4"}]];fe(h,he({name:"flame"},()=>f,{get iconNode(){return _},children:(b,p)=>{var o=ue(),u=ge(o);_e(u,c,"default",{}),d(b,o)},$$slots:{default:!0}}))}function B(h,c){const f=me(c,["children","$$slots","$$events","$$legacy"]);const _=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["circle",{cx:"9",cy:"7",r:"4"}]];fe(h,he({name:"users"},()=>f,{get iconNode(){return _},children:(b,p)=>{var o=ue(),u=ge(o);_e(u,c,"default",{}),d(b,o)},$$slots:{default:!0}}))}var Xe=k('<p class="sending-hint svelte-1uha8ag">Creating your project...</p>'),Ye=k('<button class="template-card svelte-1uha8ag"><div class="template-icon svelte-1uha8ag"><!></div> <div class="template-info svelte-1uha8ag"><span class="template-name svelte-1uha8ag"> </span> <span class="template-desc svelte-1uha8ag"> </span></div> <div class="template-arrow svelte-1uha8ag"><!></div></button>'),Ze=k('<button class="recent-card svelte-1uha8ag"><div class="recent-card-icon svelte-1uha8ag"><!></div> <div class="recent-card-info svelte-1uha8ag"><span class="recent-card-name svelte-1uha8ag"> </span> <span class="recent-card-date svelte-1uha8ag"> </span></div> <div class="recent-card-arrow svelte-1uha8ag"><!></div></button>'),ea=k('<section class="recent-section svelte-1uha8ag"><div class="section-label svelte-1uha8ag"><span class="svelte-1uha8ag">Recent projects</span></div> <div class="recent-row svelte-1uha8ag"></div></section>'),aa=k('<div class="home-page svelte-1uha8ag"><div class="bg-effects svelte-1uha8ag" aria-hidden="true"><div class="bg-orb bg-orb-1 svelte-1uha8ag"></div> <div class="bg-orb bg-orb-2 svelte-1uha8ag"></div> <div class="bg-orb bg-orb-3 svelte-1uha8ag"></div> <div class="bg-grid svelte-1uha8ag"></div></div> <div class="page-content svelte-1uha8ag"><section class="hero-section svelte-1uha8ag"><div class="hero-icon svelte-1uha8ag"><div class="hero-icon-glow svelte-1uha8ag"></div> <!></div> <h1 class="hero-title svelte-1uha8ag">What do you want to build?</h1> <p class="hero-subtitle svelte-1uha8ag">Design, test, and deploy AI agent pipelines visually</p></section> <section class="prompt-section svelte-1uha8ag"><div><button class="prompt-action-btn attach-btn svelte-1uha8ag" title="Attach file (coming soon)"><!></button> <textarea class="prompt-input svelte-1uha8ag" placeholder="Describe the AI agent pipeline you want to create..." rows="2"></textarea> <button class="prompt-action-btn send-btn svelte-1uha8ag" title="Send"><!></button></div> <!></section> <section class="templates-section svelte-1uha8ag"><div class="section-label svelte-1uha8ag"><!> <span class="svelte-1uha8ag">Or start from a template</span></div> <div class="templates-row svelte-1uha8ag"></div></section> <!></div></div>');function da(h,c){qe(c,!0);const f=()=>Oe(He,"$projects",_),[_,b]=Ke();let p=re(""),o=re(!1);const u=V(()=>(f()??[]).slice().sort((e,a)=>new Date(a.created_at).getTime()-new Date(e.created_at).getTime()).slice(0,10)),be=V(()=>t(u).length>0);function we(e){try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return""}}function ye(e){switch(e){case"blank":return L;case"simple-qa":return Y;case"reasoning-pipeline":return X;case"multi-agent":return B;case"rag-pipeline":return E;default:return Z}}const ze=V(()=>[...ce.map(e=>({id:e.id,name:e.name,description:e.description,icon:ye(e.id),exists:!0})),...["multi-agent","rag-pipeline"].filter(e=>!ce.find(a=>a.id===e)).map(e=>({id:e,name:e==="multi-agent"?"Multi-Agent Team":"RAG Pipeline",description:e==="multi-agent"?"Coordinate multiple agents with different roles":"Retrieval-augmented generation with vector search",icon:e==="multi-agent"?B:E,exists:!1}))]);async function ee(){const e=t(p).trim();if(!(!e||t(o))){W(o,!0);try{const{name:a}=await Ue.assistant.inferProjectName(e);await M(a),ve.set(!0),q("/construct")}catch(a){console.error("[home] Failed to create project from prompt:",a);const l=`project-${Date.now()}`;await M(l),ve.set(!0),q("/construct")}finally{W(o,!1)}}}function xe(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),ee())}async function $e(e){if(e.exists){const a=e.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");await M(a||"untitled"),Qe(e.id)}else{const a=e.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");await M(a||"untitled")}q("/construct")}async function Pe(e){We(e),q("/construct")}var F=aa(),ae=r(i(F),2),K=i(ae),te=i(K),ke=r(i(te),2);pe(ke,{size:28}),s(te),oe(4),s(K);var O=r(K,2),j=i(O);let se;var D=i(j),je=i(D);L(je,{size:18}),s(D);var w=r(D,2);Fe(w);var N=r(w,2),De=i(N);{var Ne=e=>{Je(e,{size:18,class:"spinner-icon"})},Se=e=>{Ve(e,{size:18})};I(De,e=>{t(o)?e(Ne):e(Se,!1)})}s(N),s(j);var Ae=r(j,2);{var Te=e=>{var a=Xe();d(e,a)};I(Ae,e=>{t(o)&&e(Te)})}s(O);var R=r(O,2),G=i(R),Ce=i(G);Z(Ce,{size:13}),oe(2),s(G);var ie=r(G,2);le(ie,21,()=>t(ze),e=>e.id,(e,a)=>{var l=Ye(),v=i(l),y=i(v);{var g=n=>{L(n,{size:20})},z=n=>{Y(n,{size:20})},U=n=>{X(n,{size:20})},x=n=>{B(n,{size:20})},$=n=>{E(n,{size:20})},H=n=>{Z(n,{size:20})};I(y,n=>{t(a).icon===L?n(g):t(a).icon===Y?n(z,1):t(a).icon===X?n(U,2):t(a).icon===B?n(x,3):t(a).icon===E?n($,4):n(H,!1)})}s(v);var m=r(v,2),P=i(m),S=i(P,!0);s(P);var A=r(P,2),J=i(A,!0);s(A),s(m);var ne=r(m,2),Me=i(ne);de(Me,{size:14}),s(ne),s(l),Q(()=>{C(S,t(a).name),C(J,t(a).description)}),T("click",l,()=>$e(t(a))),d(e,l)}),s(ie),s(R);var Ie=r(R,2);{var Le=e=>{var a=ea(),l=r(i(a),2);le(l,21,()=>t(u),v=>v.name,(v,y)=>{var g=Ze(),z=i(g),U=i(z);pe(U,{size:16}),s(z);var x=r(z,2),$=i(x),H=i($,!0);s($);var m=r($,2),P=i(m,!0);s(m),s(x);var S=r(x,2),A=i(S);de(A,{size:14}),s(S),s(g),Q(J=>{C(H,t(y).name),C(P,J)},[()=>we(t(y).created_at)]),T("click",g,()=>Pe(t(y))),d(v,g)}),s(l),s(a),d(e,a)};I(Ie,e=>{t(be)&&e(Le)})}s(ae),s(F),Q(e=>{se=Ge(j,1,"prompt-box svelte-1uha8ag",null,se,{disabled:t(o)}),D.disabled=t(o),w.disabled=t(o),N.disabled=e},[()=>t(o)||!t(p).trim()]),T("keydown",w,xe),Re(w,()=>t(p),e=>W(p,e)),T("click",N,ee),d(h,F),Be(),b()}Ee(["keydown","click"]);export{da as component};
