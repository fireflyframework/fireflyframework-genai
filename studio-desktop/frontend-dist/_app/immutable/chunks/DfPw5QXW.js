import{h as d,d as y,e as _,E as v,r as k,s as A,g as E,i as h,H as S,j as b,k as l,l as R,u as g,q as B,S as N}from"./BNectIeB.js";import{B as p}from"./BB2KRr3j.js";function F(r,s,t){var n;d&&(n=b,y());var i=new p(r);_(()=>{var a=s()??null;if(d){var e=k(n),T=e===S,o=a!==null;if(T!==o){var u=A();E(u),i.anchor=u,h(!1),i.ensure(a,a&&(f=>t(f,a))),h(!0);return}}i.ensure(a,a&&(f=>t(f,a)))},v)}function c(r,s){return r===s||r?.[N]===s}function H(r={},s,t,n){return l(()=>{var i,a;return R(()=>{i=a,a=[],g(()=>{r!==t(...a)&&(s(r,...a),i&&c(t(...i),r)&&s(null,...i))})}),()=>{B(()=>{a&&c(t(...a),r)&&s(null,...a)})}}),r}export{H as b,F as c};
